---
sidebar_position: 3
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CustomLink from '@site/src/components/CustomLink';

# Links

Please refer [this](https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html?highlight=links#hyperlinks) to get familiar with links in Sphinx

## External Links

These are straight forward syntax swap as give below.

<Tabs>
  <TabItem value="sphinx" label="Sphinx - RST" default>

    `Hasura Cloud <https://cloud.hasura.io/signup/>`_

  </TabItem>
  <TabItem value="docusaurus" label="Docusaurus - MDX">

    [Hasura Cloud](https://cloud.hasura.io/signup/)

  </TabItem>
</Tabs>

## Internal Links

Sphinx uses `:ref:` to simplify cross-referencing documents. You can read more about how it works in [sphinx docs](https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html#ref-role)

Since MDX doesn't yet support this direct referencing, we have to rely on relative/root relative path resolution for [referencing other documents](https://docusaurus.io/docs/docs-markdown-features#referencing-other-documents).

<Tabs>
  <TabItem value="sphinx" label="Sphinx - RST" default>

```rest
// highlight-next-line
:ref:`cloud_getting_started`

where `cloud_getting_started` is id of the document given at top of RST file.

Link label will by default be title of page. For custom link labels, the syntax might look like below.

// highlight-next-line
:ref:`Remote schemas <remote_schemas>`
```

  </TabItem>
  <TabItem value="docusaurus" label="Docusaurus - MDX">

```markdown
[Getting Started With Hasura Cloud](../relative/path/to/getting-started-document.mdx)

[Remote Schemas](../relative/path/to/remote-schemas-document.mdx)
```

  </TabItem>
</Tabs>

### Root Relative Links

While relative paths works absolutely fine, this can easily lead to an absolute mess when files are move around. Thus requiring manual effort to fix the paths.

To avoid this scenario, we can use root relative paths. The path will still break when moved around, but it is lot easier to find and replace. Find with old path and replace with new path.

```
Find `/folder1/subfolder2/doc3.mdx` and replace with `/folder1/newsubfolder4/doc5.mdx`
```

Since MDX doesn't yet support direct document referencing with `id/ref` unlike sphinx, we need to settle with root relative path liniking for now.

```[MDX Root Relative Link](/migration-guide/index.mdx#contents-covered)```


> [MDX Root Relative Link](/migration-guide/index.mdx#contents-covered)


## Links in React

Use Docusaurus [Links](https://docusaurus.io/docs/docusaurus-core#link) for linking in React. Works for both internal and external links.

```jsx
import Link from '@docusaurus/Link';

// Internal Link
<Link to="/migration-guide/links#root-relative-links">Root Relative Links</Link>

// External Link
<Link to="https://hasura.io">Hasura</Link>
```

## Versioned Links
When docs are versioned there is a decent chance of broken internal links as the URL path will include a version number.

External links have no effect and will link to external resource.

### When using MDX links
All absolute links will be broken and have to be manually fixed. So, it is always recommended to use root relative/relative links which would point to correct versioned docs.

:::tip Dont forget the extension!
Make sure to include file extension as MDX links are parsed a file path and will be resolved to correct version.
:::

### When using React Link
React Link's to attribute will always accept a URL path and not file path. So, this will be broken.

As a workwround, added a new `CustomLink` component which will prefix the path with respective version number.

```jsx
import Link from '@docusaurus/Link';
import CustomLink from '@site/src/components/CustomLink';

// Internal Link
<CustomLink to="/migration-guide/links#when-using-react-link">Root Relative Versioned Links</CustomLink>

// External Link - Please use Link from docusaurus.
<Link to="https://hasura.io">Hasura</Link>
```

Verify this in versioned page of Link and here. The URL should point to correct verisoned link.
<CustomLink to="/migration-guide/links#when-using-react-link">Root Relative Versioned Links</CustomLink>


The base URL is prefixed by default for all internal relative links and version number is prefixed alng with base URL when using Custom Link.

:::danger User for Internal Links only
Please use CustomLink only for Internal Links with root relative path. Using for external links will break as it will be prefixed with version number.
:::


<hr />

:::info
Docusaurus catches [broken markdown links](https://docusaurus.io/docs/api/docusaurus-config#onbrokenmarkdownlinks) if enabled
:::
